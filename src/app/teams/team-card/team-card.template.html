<div class='team-card' *ngIf="team">
  <md-card>
    <md-card-title>
      <h3 *ngIf="!inEditMode">{{team.name}}</h3>
      <md-input *ngIf="inEditMode" placeholder="Team name" [(ngModel)]="team.name"></md-input>
    </md-card-title>
    <md-card-content>
      <md-slide-toggle [(ngModel)]="team.inEurope" (change)='updateTeam()'>In Europe?</md-slide-toggle>
      <label>Status updates</label>
      <md-list>
        <md-list-item *ngFor="let update of team.statusUpdates | orderBy: '-timestamp' ">
          <div md-line>{{update.getPrettyTimestamp()}}</div>
          <div md-line>{{update.prettyStatusName()}}</div>
          <div md-line>{{update.location.place}}</div>
        </md-list-item>
      </md-list>
      <label>Racers</label>
      <md-list>
        <md-list-item *ngFor="let racer of team.racers | orderBy: '+name' ">
          <div md-line>{{racer.name}}</div>
        </md-list-item>
      </md-list>
      <button md-raised-button color="primary" (click)="editTeam()" *ngIf="!inEditMode">Edit</button>
      <button md-raised-button color="primary" (click)="saveTeam()" *ngIf="inEditMode">Save</button>
      <button md-raised-button color="warn" (click)="deleteTeam()">Delete</button>
    </md-card-content>
  </md-card>
</div>
