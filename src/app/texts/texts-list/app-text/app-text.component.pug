mat-card.text-card.text-card-normal
  mat-card-header
    mat-card-title
      .inline-text-title(*ngIf='display.oneline')
        phone-widget([number]='text.from')
        |  - 
        span(*ngIf='textRacer') {{textRacer.name}}
        |  - 
        span(*ngIf='textTeam') ({{textTeam.id}}) {{textTeam.name}}
        |  
        span.error(*ngIf='!textTeam') ERROR: No Team for Racer!
      div
        time-widget([time]='text.timestamp')
        location-widget([location]='text.location')
      .text-title(*ngIf='!display.oneline')
        div(*ngIf='display.number')
          phone-widget([number]='text.from')
        div(*ngIf='display.time')
          time-widget([time]='text.timestamp')
          location-widget([location]='text.location')
  mat-card-content
    .text-body  {{text.body}}
  .text-read(*ngIf='text.readBy')
    | Read by
    user-widget([user]='text.readBy.user')
    |  at
    time-widget([time]='text.readBy.timestamp')
  mat-card-actions
    button(mat-icon-button, (click)='replyToText()', [title]='"Reply to text"')
      mat-icon reply
    |  
    button(mat-icon-button, (click)='markTextAsRead()', [disabled]='text.readBy', [title]='"Mark text as read"')
      mat-icon done
    |  
    button(mat-icon-button, [disabled]='!canCheckinFromText()', (click)='addCheckIn()', [title]='"Add checkin for team"')
      mat-icon update
    |  
    button(mat-icon-button, [disabled]='!canUpdateFromText()', (click)='createUpdate()', [title]='"Create team update from this text"')
      mat-icon add

